# SQLiteForMobilDevelopers

SQLite For Mobil Developers

1. [Getting Up to Speed with Databases and SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)
2. [Understanding What SQLite is](https://github.com/c4arl0s/SQLiteForMobilDevelopers#2-understanding-what-sqlite-is)
3. [Using SQLite Basics: Storing and Retrieving Data](https://github.com/c4arl0s/SQLiteForMobilDevelopers#3-using-sqlite-basics-storing-and-retrieving-data)
4. [Working with the Relational Model and SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#4-working-with-the-relational-model-and-sqlite)
5. [Using SQLite Features.What can you do with SELECT Statements](https://github.com/c4arl0s/SQLiteForMobilDevelopers#5-using-sqlite-featureswhat-can-you-do-with-select-statements)
6. [Using SQLite with PHP](https://github.com/c4arl0s/SQLiteForMobilDevelopers#6-using-sqlite-with-php)
7. [Using SQLite with Android/Java](https://github.com/c4arl0s/SQLiteForMobilDevelopers#7-using-sqlite-with-androidjava)
8. [Using SQLite with Core Data (iOS and OSX)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#8-using-sqlite-with-core-data-ios-and-osx)
9. [Using SQLite/Core Data with Swift (iOS and OSX)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#9-using-sqlitecore-data-with-swift-ios-and-osx)
10. [Using SQLiteCore Data With Objective-C (iOS and Mac)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#10-using-sqlitecore-data-with-objective-c-ios-and-mac)
11. [Using the Simple Database with a PHP Web Site](https://github.com/c4arl0s/SQLiteForMobilDevelopers#11-using-the-simple-database-with-a-php-web-site)
12. [Using the Simple Database with a Core Data/iOS App](https://github.com/c4arl0s/SQLiteForMobilDevelopers#12-using-the-simple-database-with-a-core-dataios-app)


# SQLiteForMobilDevelopers

# 1. [Getting Up to Speed with Databases and SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Moving Beyond Big](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-moving-beyond-big)
 * [Databases are Structured and Organized](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-databases-are-structured-and-organized)
 * [Databases are Smart](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-databases-are-smart)
 * [Write code is juts the beginning](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-write-code-is-juts-the-beginning)
 * [Parles-vouz Python ? Sprechen Sie Scala?](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-parles-vouz-python--sprechen-sie-scala)
 * [Relational Databases and SQL to the Resque](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-relational-databases-and-sql-to-the-resque)
 * [Looking Inside a Relational Table and Query](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-looking-inside-a-relational-table-and-query)
 * [Basic Query Structure](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-basic-query-structure)
# 2. [Understanding What SQLite is](https://github.com/c4arl0s/SQLiteForMobilDevelopers#2-understanding-what-sqlite-is-1)
 * [Putting a Database in Perspective](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-putting-a-database-in-perspective)
 * [Defining SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-defining-sqlite)
 * [SQLite is Designed for a Single User](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-sqlite-is-designed-for-a-single-user)
 * [Single User does not Mean Single-Tread](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-single-user-does-not-mean-single-tread)
 * [Using SQLite with Multiple Users](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-using-sqlite-with-multiple-users)
 * [SQLite is Self-Contained](https://github.com/c4arl0s/SQLiteForMobilDevelopers#-sqlite-is-self-contained)
 * [Self-Contained Code]()
 * [Self-Contained Data]()
 * [SQLite Supports Transactions and is ACID-Compliant]()
 * [Concurrency and Acid Transactions on Mobile Devices]()

# 3. [Using SQLite Basics: Storing and Retrieving Data](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Terminology and Definitions]()
 * [Using sqlite3]()
 * [Experimenting with SQLite syntax]()
 * [About Primary Keys]()
 * [Exploring your sqlite3 Database with a Graphical SQLite Editor]()
 * [Creating a table]()
 * [Using a Graphical SQLite Editor]()
 * [Creating Table Columns]()
 * [Using SQLite 3]()
 * [Inserting Data into a Table]()
 * [Using a graphical Interface]()
 * [Using SQLite 3]()
 * [Retrieving Data]()
 * [Using graphical interface]()
 * [Deleting Data]()
 * [Summary]()

# 4. [Working with the Relational Model and SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Building the Users Table]()
 * [Building The Scores Table]()
 * [Relating the Tables]()
 * [Using Aliases to Identify Multiple Tables in a SELECT Statement]()
 * [Using the rowid Primary Key]()
 * [Changing a Name in One Table]()
 * [Using a Foreign Key]()
 * [Joining the Tables]()
 * [Summary]()

# 5. [Using SQLite Features.What can you do with SELECT Statements](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Looking at the Test Data]()
 * [Ordering Data Makes it Easier to Use]()
 * [Grouping Data can Consolidate it]()
 * [Using Variables and Queries]()
 * [Summary]()

# 6. [Using SQLite with PHP](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# 7. [Using SQLite with Android/Java](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# 8. [Using SQLite with Core Data (iOS and OSX)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Introducing to Core Data Framework]()
 * [Using the Core Data Model Editor]()
 * [Using Entities]()
 * [Working with Attributes]()
 * [Managing Relationships]()
 * [Summary]()
# 9. [Using SQLite/Core Data with Swift (iOS and OSX)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Looking at the Core Data Stack]()
  * [Managed Object Model]()
  * [Persistent Score Coordinator]()
  * [Managed Object Context]()
 * [Fetching Data to the Core Data Stack]()
 * [Structuring a Core Data App]()
 * [Passing a Managed Object Context to View Controller in iOS]()
 * [Setting Up the Core Data Stack in AppDelegate for iOS]()
 * [Creating applicationDocumentsDirectory in iOS]()
 * [Creating managedObjectModel in iOS]()
 * [Creating persistenceStoreCoordinator in iOS]()
 * [Creating managedObjectContext in iOS]()
 * [Setting up the Core Data Stack in AppDelegate for OSX]()
 * [Creating applicationDocumentsDirectory in OSX]()
 * [Creating managedObjectModel in OSX]()
 * [Creating persistentStoreCoordinator in OSX]()
 * [Creating managedObjectContext in OSX]()
 * [Creating a Fetch Request in iOS]()
 * [Saving the Managed Object Context]()
 * [Saving in iOS]()
 * [Saving in OSX]()
 * [Working with NSManagedObject]()
 * [Creating a New NSManagedObject Instance]()
 * [Working with a Subclass of NSManagedObject]()
 * [Summary]()

# 10. [Using SQLiteCore Data With Objective-C (iOS and Mac)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [Looking at the Core Data Stack]()
  * [Managed Object Model]()
  * [Persistent Store Coordinator]()
  * [Managed Object Context ]()
 * [Fetching Data to the Core Data Stack]()
 * [Objective-C Highlights]()
 * [Using Quoted Strings]()
 * [Objective-C is a messaging Language]()
 * [Using breaks in Objective -C]()
 * [Objective-C 2.0]()
 * [Chaining Messages]()
 * [Ending Statements with a Semicolon]()
 * [Separating Headers and Bodies in Objective-C]()
 * [Looking at Method Declarations]()
 * [Handling nil in Objective-C]()
 * [Structuring a Core Data App with Objective-C]()
 * [Passing a Managed Object Context to a View Controller]()
 * [Setting up the Core Data Stack in AppDelegate for iOS]()
 * [Creating the App Delegate Header]()
 * [Synthesizing Properties in AppDelegate.m]()
 * [Creating applicationDocumentsDirectory in iOS]()
 * [Creating managedObjectModel in iOS and OSX]()
 * [Creating persistentStoreCoordinator in iOS]()
 * [Creating managedObjectContext in iOS]()
 * [Setting up the Core Data Stack in AppDelegate for OSX]()
 * [Creating applicationDocumentary in OSX]()
 * [Creating managedObjectModel in OSX]()
 * [Creating persistentStoreCoordinator in OSX]()
 * [Creating managedObjectContext in OSX]()
 * [Creatng a Fetch Request in iOS]()
 * [Saving the Managed Object Context]()
 * [Saving in iOS]()
 * [Saving in OSX]()
 * [Working with NSManagedObject]()
 * [Creating a New NSManagedObject Instance]()
 * [Working with a Subclass of NSManagedObject]()
 * [Summary]()
# 11. [Using the Simple Database with a PHP Web Site](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# 12. [Using the Simple Database with a Core Data/iOS App](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
 * [The Story Continues...]()
 * [Adjusting the Data Model and Template for Core Data]()
 * [Getting Rid of Keys and Revising the Data Model]()
 * [Changing timeStamp to name]()
 * [Creating a New Database on your Device or Simulator]()
 * [Add the Score Table and Interface to the App]()
 * [Making sure you can Add new Users with  + in the Master View Controller]()
 * [Working with the Detail View]()
 * [Working with the Detail View for Score]()
 * [Use a Table View Controller for DetailViewController]()
 * [Modify DetailViewController Code for]()
 * [Change detail to detailUser]()
 * [Change configure cell to Use the subclass]()
 * [Modify MasterViewController to Pass the User to]()
 * [Summary]()


# SQLiteForMobilDevelopers

# 1. [Getting Up to Speed with Databases and SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)

Ask people to tell you words they associate with **database** and you will probably get **big** among the responses. Databases handle large amount of data, and everyone knows that. How big ? It depends whether you count the number of items in a database of the size of the items. The Library of Congress has 160 million items on 858 miles of shelving as of this writing. The catalog, which is based on a database, is available online a www.loc.gov/about/fascinating-facts/. There is no questions among people who are interested in databases that the Library of Congress catalog is far from the largest database in the world.(in all likelihood, the largest databases are not visible to the public because they contain classified corporat and governmental information).

This chapter provides an introduction or reminder about databases today an how they are used. If you have used databases in the past, much has changed, an if you have not used to them much in the past, this chapter will give you a quick overview.

# * [Moving Beyond Big](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

Beyond **big**, you should start thinking about databases as being **structured** and **organized**. In fact, as a mobile developers, the structured and organized aspects of databases are much more important than their size. From the earliest days of the Web in the early 1990s, web browsers have used databases to store and organize their data. What Data, you may wonder ? How do you think your browser is able to store your passwords for the web pages in a cache so that they can be retrieved without a new network access when possible ? And what about your preferences for default font sizes ? Or the download folder for files you can change when you feel like it, and even on many browsers, restrictions on certain users or types of users ? These are just simple examples, but the principles apply even to the largest (and smallest) databases today

# * [Databases are Structured and Organized](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

All those examples can be implemented with a database because all those items need to be structured and organized. Some of the items can turn into large amount of data (particularly a browser history if you don't choose an option to clear out the old information occasionally - another option that can be stored in a preference database), but some of the preferences listed are very small amounts of data: even with a fully modified file name for your download folder, 128 characters is enough to store the name of your preferred download folder, but they don't store the history of download folders (last week's preferred download folder, the folder you used last month, etc.).

In thinking about databases. **"big"** is often relevant, but every frequently it is misleading. It is structure and organization that matter most.

And they matter a great deal to a mobile developer. Precisely because mobile devices need to function in a world of constrained resources (example: limited storage space and battery power), structuring and organizing the data that is stored is particularly important. Built into a data management system are various optimizations that matter to databases large and small. For example, many databases can store character or string data. Such data is typically quite variable. Even if a database designer specifies that a text field can contain 50, 500, or 50,000 characters, behind the scenes trailing blanks are often discarded. The user (and even the developer) may never know this, but it makes the entire database function more efficiently. (Features like this function behind the scenes and they can be accessed and turned on or off by the database designer in many cases)


# * [Databases are Smart](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

Being able to optimize storage to work with the presence or absence of characters in a text field is a powerful behind the scenes tool, but databases have intelligence built into them.

In most database engines today, the designer can specify many attributes of a field such as following:

- Name. A name that is used internally is often quite different from the name that appears in t he user interface.
- Type. You can specify that a certain database field must be an integer or a string or any other type that the database supports.
- Optionality. Some fields are optional, and you can specify that when you set up a database. (many people have a car with a license number; many other people do not own cars)
- Default values. A data base can be set to provide a default value - either a simple value or a calculated value based on other data in the database.
- Cardinality. Sometimes, there are multiple values for part of the database. (to continue the example, some people have no car, other people own a car, and others own several cars. Furthermore, some people own a car and a bike... you get the idea)
- Value ranges. When the database designer specifies the database structure, a range of values for each field can be set. A driver's license identifier that consist of characters other than letters and numbers (depending on the locality) may not be allowed.
- Value relationships. You can move beyond value ranges in designing a database. You can create combinations of attributes and values so that, for example, a database can enforce a rule that an employee may be married (to one person o no one), but if the employee is married, the spouse's employer cannot be the same as the employee's employee. These restrictions in the database reflect policies but there well may be exceptions (a supervisor's approval), and the database can be designed to support a case like that.

These are just a few of the ways in which a database can be set up to enforce logical rules.

Perhaps at this point you are tempted to say: "but I can do each of those things with a line of or two of code". That's absolutely true. But there are a couple of points to bear in mind.

# * [Write code is juts the beginning](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

You can write the code to implement any of those conditions, but that's just the start. Over time, conditions change, users have suggestions, and the Power That Be (whoever that (or "they") may be in your life) decides to change the rules for employment, cars, the conditions that apply to license plate numbers, or any other things that strike his or her fancy.

The code that took only a few lines of code and couple of minutes to write needs to be rewritten. And, although there is no clear research on the matter, it seems that these changes take place at the last minute before a product (or version) launch and they must be done immediately.

# * [Parles-vouz Python ? Sprechen Sie Scala?](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

The line or two that implement the rules for one of the data conditions may have been written by someone who is no longer around. Even if your wrote them, time may have passed and you may not remember exactly what you were trying to implement (yes, commenting your code is a desirable feature, but life happens...)

Those few lines of code may have been modeled on some code from a friend that does exactly (or almost() what you want. Maintaining even the best-written code is a challenge for everyone involved from the first author to the updater to the manager and -eventually the user or manager who ask for **"just a little tweak"** (retoque)

# * [Relational Databases and SQL to the Resque](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

Today, databases are remarkably standardized in their structure -perhaps more so than almost any other concept in the world of information technology. The idea of a relational database was first propose in 1970 by Edgar Codd, of IBM's San Jose Research Laboratory, and his proposal has become the basis for modern database implementations (see article titled "A relational model of data for large Shared Data banks" Communications of the ACM (june 1970).

In 1974, Donald D. Chamberlin and Raymond F. Boyce (also from IBM) wrote a paper titled "SEQUEL: A structured English Query Language" for the ACM (Association for Computing Machinery) SIGFIDET Workshop on Data Description, Access and Control.

The relational Model (proposed by Codd), together with SQL, has become the basis for modern database implementations. Books by C. J. Date and others together with Codd's original work on the relational model remain the cornerstones of relational database theory today.

---
Note
The name SQL is derived from SEQUEL which turned out to be a trademark of the Hawker Siddeley aircraft company. Today, many people suggest that SQL is not an abbreviation or acronym but is a name in and of itself. Others suggest that SQL is an acronym for structured query language
---

The basic concepts of SQL are few. You can visualize them by thinking of a spreadsheet with its rows and columns. (you can also conceptualize them using mathematical set theory and other concepts, but spreadsheets are easier for many people to think about today).

Following are the Basic SQL concepts.

- **Table**. A table is much like a simple spreadsheet with rows and columns. (It is not like a complex spreadsheet that may include several tables). For this discussion, think simple -just rows and columns in a single table. A table is sometimes referred to as a **relation**, but more often **table** is used.

- **Column**. A column represents a single data element such as **"address"** or **"name"**. In the database world, a column may be called a **field**. In the world of programming, a column may be called an **attribute* or **property**.

- **Row**. A row represents single observations or set of values with one for each column. Thus, a row in this imaginary simple spreadsheets might represent a person's data. In the database world, a row may be called a **record** or **tuple**

To retrieve data from a relational database table, you run a **query**. A query is a set o logical instructions that manipulate a given table in such a way as to retrieve the data that you want. The result of a query is another table. The resulting table may be empty (if no data satisfies the query), it may be some or all of the data in the table, and, in some complex queries, it may be larger than the basic table. The results of a query are sometimes called a **view** or a **result set**.

These concepts and terms apply to most databases today regardless of the language in which they are implemented and, perhaps more important, redardless of the database engine or database management system (DBMS) in which they are implemented. Furthermore, databases are some times implemented as part of frameworks and languages. Thus, in PHP you can use PDO (PHP Data objects) starting with PHP 5.1 to access SQLite. For iOS, you can use the Core Data Framework to worj with SQLite and other data managers. In these cases as well as others, the idea has been to abstract as much as possible into a framework or other wrapper so that switching databases does not require massive rewrites of code.

SQLite implementss most of the SQL standard. The exceptions are listed here https://sqlite.org/ommited.html.

# * [Looking Inside a Relational Table and Query](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

For the reminder of this chapter and several that follow, we are going to use a simple example to learn how to create SQLtables and queries. Table 1-1 shows a simple table that can be used to demosntrate the basic concepts of SQL, queries, and relational tables. 

![Screen Shot 2020-06-09 at 16 10 07](https://user-images.githubusercontent.com/24994818/84200070-bf8af900-aa6b-11ea-96d5-0bf5eb4d3736.png)

Table 1-1 shows a simple table that can be used to demostrate the basic concepts of SQL, queries, and relational tables. It shows some data for a few people and their country of origin. The names of the columns (fields) are PK, Name, and Origin. The values of Name are Celia, Leif, and Charlotte; the values for Origin are Australia, Iceland, and United States.

---
Note
In a relational database, the columns have names, but rows are not named. In the simple table shown in Table 1-1, the first column (named PK) has three values: 1, 2, and 3. These values happen to correspond to the row numbers, but the sample would work just as well if they were named Chair, Tree, and 15.
---

You can retrieve data from a table by using a **query**. As noted previusly, the result of a query is a table- perhaps an empty one, perhaps some of the data of the original table, and, in some cases, more data than in the original table. This section shows some typical basic queries. In later chapters, you will see more about queries as well as details about how to structure them. For now, this is just a taste of what queries can be and do.

# * [Basic Query Structure](https://github.com/c4arl0s/SQLiteForMobilDevelopers#1-getting-up-to-speed-with-databases-and-sqlite)

In their simplest form, queries consist of three sections.

---
Note
The code shown in this section is SQL code. By convention, reserved words in SQL are shown in CAPITAL LETTERS although in most implementations, SQL is case-sensitive.
---

- SQL Action: SELECT
There are a number of verbs in SQL, but SELECT is used to select data from a table. Commands start with that word.

- SQL Data to Select: List of Column Names
You can start to form a SELECT statement by listing the names of the columns you want to select. Thus, to retrieve data from the Name column, you would start the SELECT statement with 

```sql
SELECT Name
```

To select data from several columns, you can specify a comma-delimited list as in he following case;

```sql
SELECT Name, Origin
```

You can select all columns with and asterisk as in

```sql
SELECT *
```
- SQL Data Source: Table Name

You can specify the data source using a clause 3 beginning with FROM. Following is an example:

```sql
SELECT Name FROM SimpleTable
```

- SQL Condition: WHERE

You can specify the condition you want to use for selecting data with a clause that begins with WHERE. For example, you could use that first column (PK) to select a single row.

```sql
SELECT Name FROM SimpleTable WHERE PK = 2
```
You can also form a condition that is more complex:

```sql
SELECT Name FROM SimpleTable WHERE PK < 3
```

- Looking at Other Query Choices

These are the simplest possible examples more complex ones will be shown throughout the book, but the basic pattern will remain as follows:

```sql
SELECT this FROM tabe WHERE condition
```

You can use several tables as your data source. Thus, if you have names and origins as shown in table 1-1 in a single table, you could have another table with each person's birthday. You could create a single SELECT statement to retrieve both the name and birthday for anyone; to do so you would have to use two tables (don't worry, this i an example you will see in Chapter 4)

As noted previously, the result of a SELECT query is itself a table. Thus, you can write a SELECT query that executes a SELECT statement to create a table and then selects data from that resulting table.

With this brief overview of relational databases and SQL, It is time to move on to SQLite itself.

# 2. [Understanding What SQLite is]()

Chapter 1 provided an overview of relational databases and SQL that applies to most modern databases regardless of the environment in which you find them (Oracle, MySQL, Microsoft SQL Server, or others). That generality is important because SQLite is part of hat picture. In this chapter, however, the focus is just on SQLite and the features of SQLite that you may or may not find in other databases environments. Whereas a lot of Chapter 1 may be familiar to long-time database users, much of this chapter may not be because even if it is not SQLite-only, many of the features described in this chapter are not present in other database environments. (to be quite fair, many features of other database environments are not found in SQLite.)

# * [Putting a Database in Perspective]()

A **relational database** typically lives inside some kind of containing object. Often, the container is a **database management system** (DBMS) (You may sometimes see references to a relational database management system (RDBMS). For most purposes in today's world, most DBMSs are RDBMSs)

A database management system such as Oracle provides functionality that goes beyond the database itself, such as user interfaces or developer interfaces; diagnostic debugging, and maintenance tools; and even sophisticated data display functionality. 

In some cases, a database is part of a language, object-oriented class, or framework that, itself, may or may not be a DBMS. For example, PHP has a database class just as does the Android SDK (yes, one is a language and one is an operating system, but each can provide an object-oriented database class) You will find more about these classes in Chapters 6 and 7.

On the other hand, Cocoa and Cocoa Touch provide a Core Data framework for both iOS and Mac. I describe Core Data later in Chapters 8 and 9.

For most of this book, the focus is on SQLite itself, but beginning with Chapter 6, you will see how to access it when it is inside a DBMS, class, or framework.

# * [Defining SQLite]()

SQLite is a software library written in C. It was developed by D. Richard Hipp in 2000 originally as part of a contract with the U.S Navy that was implemented by General Dynamics. Today, it consist of some 184,000 lines of code. 

SQLite is in the public domain, so it can be used by anyone. Further details and links to download the source code are available at sqlite.org.

You can compile the source code into a library that, in turn, you can use in an application program. Although you may find references to SQLite as a **DBMS**, it is, strictly speaking, just this library. The container in which that library is compiled (a class, a framework, or a full-fledged DBMS) provides the larger DBMS functionalities.

---
Note
Is SQLite a DBMS ? In some ways, this only matters if that question can be answered in a way that influences the way you design or implement your SQLite-based project. However, if you track down references to SQLite, you will see that it is usually referred to (correctly) as a library or as a database engine.
---

The code has been designed from the beginning to be compact and reusable (that reference to its origin with the U.S. Navy is relevant here - When you are on a ship at sea, every resource is limited, including power, space, and weight. Furthermore, in modern ships, technological components must function together even if their origins are with multiple vendors. That is the SQLite environment.

Whether you are worried about the limited resources on a ship, on a mobile device running an operating system such as Android or iOS, or on a small mobile device such as a programmable beacon ... or even the limited resources on a supercomputer ("limited" is always is relative), SQLite is a good choice in many cases.

The following sections highlight some of the major features of SQLite that implement this mandate and that are important to you as you use it in whatever container you choose (DBMS, class, framework, or basic library). These features are important to you as you undertake a SQLite based project for a mobile device.

The features discussed in this section actually all resolve around the fact that SQLite is a library that is designed to be used by a single user to handle database functionality. (Before you throw up your hands, read on to see how SQLite can function very well in a multiuser and multiprocess environment). The following are the features to consider:

 * SQLite is designed for a single user.
 * SQLite is self-contained
 * SQLite supports transactions and is ACID-compliant.

---
Note
You can find more details on these topics at sqlite.org.
---

# * [SQLite is Designed for a Single User]()

One of the biggest differences between SQLite and most **DBMSs** is that SQLite is designed for a single user. Most **DBMSs** manage multiple users including various security features that allow or block access to specific SQL commands and features. Even more important to many people, a **DBMS** manages contention for resources so that several users can apparently use the same data concurrently.

**Apparently** is the key word here because although each user typically thinks that he or she has unique access to the database, in fact, behind the scenes the **DBMs** manages concurrency so that in some cases, it has locked a record to prevent access to it by a second user while another user is updating it.

# * [Single User does not Mean Single-Tread]()

**SQLite manages concurrency within its own environment**. This means that it may have multiple threads running at the same time to perform its own task, but those threads are managed within the SQLite environment itself. They do not represent separate users.

# * [Using SQLite with Multiple Users]()

How can you have multiple users when SQLite is designed for a single user ? The answer is simple: **you manage multiple users yourself**. There are number of ways of doing this, but in general, what you do is to push the multipleuser management onto the app, class or language into which SQLite is embedded. Apps typically have the ability to communicate with one another (subject to security and platform constraints). 

**Thus, although SQLite is not going to manage the case of User A and User B attempting to modify the same **data** at the same time, your app can do so**.

Typical concurrency strategies involve either having a master process that manages the concurrency or having a mechanism whereby multiple independent processes communicate without a master process. You find many examples of multiple independent processes in apps such as Dropbox and many cloud-based apps. (In the case of Dropbox and cloud-based apps, there may be a process continually running somewhere in the cloud and, perhaps separate process running on active clients. Whether or not control resides in a central process or is distributed among the clients (and master) varies depending on the specific implementation).

Thus, SQLite is perfectly capable of functioning in a multipleuser world; it just needs to be running inside apps or other processes that themselves implement the multipleuser features.

# * [SQLite is Self-Contained]()

SQLite is self-contained in two ways.

- 1. The code itself is self-contained ANSI C code. It makes minimal use of C libraries. In fact, the only ones it uses are
   * memset()
   * memcpy()
   * memcmp()
   * strcmp()
   * malloc()
   * free()
   * realloc()

- 2. The data stored itself is self-contained, portable, and platform-agnostic.  

# * [Self-Contained Code]()

Self-contained code means that when you include the SQLite library in your project (either directly or through a language, class or framework), you have everything you need. You don't need to include additional libraries.

You don't have to worry about versions, and, once you have a compiled SQLite library, you can generally reuse it without being independent on changes in components (remember, though, that in most cases SQLite is embedded in a language, class, framework, or DBMS so the container is what you will need to update from time to time.)

Because SQLite is in the public domain, you don't have to worry about licenses or license fees. (you can, however, obtain a license as described on sqlite.org. That option is provided for some users who need to demonstrate to their management that they actually have the right to use SQLite).

Remember that SQLite is often contained within a class, framework, or language that you are using so this feature (which to a large extent makes such containability possible) may not visible to you.

# * [Self-Contained Data]()

The data store that SQLite uses for a database is designed to be self-contained and cross-platform. This mean that you can transfer  SQLite file from one environment to another without problems in most cases. (That caveat [consideracion, advertencia] is necessary because you may encountered issues in specific configurations, but for many if not most SQLite users, the first step in verifying that a database can be moved is to actually move it - this actually works).

In its most basic (and original) form, each SQLite database is stored in a single file. The file is readable and writable on any platform (subject to environmental constraints of the file). For example, if you place the file on a read-only disk, you can't write to it with SQLite. (This may sound far-fetched, but such things do happen).

with the database in a single file, users can see it and move it around if they want. (if they do so, the app that you are building must be able to find the file - perhaps with user's help). Users can also delete the database file. Because it is self-contained, that's very simple, and it does not corrupt other SQLite databases. Of course, the fact that a user may be able to delete the database means that in your implementation, you may want to hide it or place it in protected places. If you do that, you often take advantage of platform-specific features such as hidden folders, but the SQLite file itself remains an ordinary file that can be moved around and copied to other devices.

Because the database file is self-contained, it contains both the database data and its schema (structured if you are not from the database world). In part because each database is self-contained, SQLite is referred to as **serverless** (there is no separate server process).

The fact that a SQLite database can be stored in a single file leads to a common use of SQLite to implement structure and database functionality inside what appears to the user to be a simple file.

---
Note
Although SQLite began with the one-database/one-file structure, it now supports write-ahead logging (WAL) as an option. WAL is a technique that optimizes database performance using multiple files. There is more on WAL in Chapter 4
---

# * [SQLite Supports Transactions and is ACID-Compliant]()

**Transaction** in he world of databases has a very specific meaning over and above its regular meaning in English. It refers to a set of steps that are done together (usually in sequence, but not necessarily so). Together, these steps are a transaction, and what's important is that the transaction as a whole either succeeds or fails. If any of the steps fails, the entire transaction fails. As a result of transaction failure, the database is said to be **rolled back** to its condition before the transaction began.

When a database supports transactions, the failure of any part of a transaction means **the entire transaction fails and the database is set to whatever it was before the transaction started**. All of this happens in an ACID-compliant database such as SQLite. As you saw in Chapter 1, there is a lot of code you don't have to write when you are using a database.

ACID is the standard by which most databases are judge today to determine if they support transactions. ACID is an acronym.

 - **Atomicity**. This is the all-or-nothing aspect of a transaction. It succeeds or fails as a whole and can never partially sucessful.
 - **Consistency**. In processing a transaction, the database will start from a valid state an end in a valid state. In other words, a transaction will not violat database rules such as the optionality of attributes as a result of a transaction, but those rules may be violated during the course of the transaction.
 - **Isolation**. This means that transactions acan be run sequencially or concurrently. They will not interfere with one another. (Isolation requires that a database implement a method for managing concurrency so the operations can be either sequenctial or concurrent).
 - **Durability**. This means that, on completion, the transactions persists. In practical terms, this generally means that it is committed to disk.

In SQLite (as in many other implementations of SQL), a transaction consist of a number of SQL statements bracketde by 

```console
BEGIN TRANSACTION
```

and 


```console
END TRANSACTION
```

There is more on transactionsin Chapter 4. You will see how to define them and how to specify the point of which a failed transaction is **rolled back**. In that chapter, you will also see a larger description of how WAL implements atomicity and urability.

# * [Concurrency and Acid Transactions on Mobile Devices]()

You might think that when you are writing for a mobile device such as a phone, there is only a single user and this discussion of transactions and ACID compliance does not apply. However, this issues of concurrency apply perhaps even more on mobile devices that in other cases.

The reason why you have to think about transactions and their failures on mobile devices is that many of the most frequent tasks you perform on mobile devices involve network access. As anyone who has tried to carry on a phone conversation in a train that suddenly speeds through a tunnel knows, network availability can suddenly disappear on a mobile device.

# 3. [Using SQLite Basics: Storing and Retrieving Data](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)

SQLite is a lightweight library containing a database engine that lets you use a very large subset of SQL to store and retrieve data. As a user, you are most likely to be familiar with an application interface or the interface of a database management sustem (DBMS) that provides an interface to the database itself. Behind the scenes, your commands (whether text or graphical) are translated into SQLite syntax.

This chapter shows you the basics of creating a table, adding data to it, and retrieving the data. It is a high-level overview to give you a taste of SQLite. The next chapter will drill drown into some options and variations you can use. In this chapter, you will use both a graphical user interface (GUI) and the sqlite3 command-line interface that are part of SQLite. In subsequent chapters, you will usually see only the SQLite interface because it includes the SQLite commands. In most graphical editors for SQLite, you have an option to type in the SQLite code directly, so those commands should work for you in either environment.

# * [Terminology and Definitions]()

"SQLite" is used in a various ways in this book.

- SQLite as used in this book is refered to a any version of SQLite
- SQLite 3 is the current version of SQLite.
- SQLite 3.9.2 is the current release version of SQLite.
- sqlite3 is a command line utility.

As you read various materials about databases and relational databases, you may encountered database management systems (DBMS) and relational database management systems RDBMS). Most databases today are relational databases, and almost all of them are based on SQL. There are other types of databases, but they are not widely used at the moment. A particularly interesting approach to data management today is **unstructured data, but that is outside the scope of this book.


# * [Using sqlite3]()
# * [Experimenting with SQLite syntax]()
# * [About Primary Keys]()
# * [Exploring your sqlite3 Database with a Graphical SQLite Editor]()
# * [Creating a table]()
# * [Using a Graphical SQLite Editor]()
# * [Creating Table Columns]()
# * [Using SQLite 3]()
# * [Inserting Data into a Table]()
# * [Using a graphical Interface]()
# * [Using SQLite 3]()
# * [Retrieving Data]()
# * [Using graphical interface]()
# * [Deleting Data]()
# * [Summary]()
#
# 4. [Working with the Relational Model and SQLite](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# * [Building the Users Table]()
# * [Building The Scores Table]()
# * [Relating the Tables]()
# * [Using Aliases to Identify Multiple Tables in a SELECT Statement]()
# * [Using the rowid Primary Key]()
# * [Changing a Name in One Table]()
# * [Using a Foreign Key]()
# * [Joining the Tables]()
# * [Summary]()
#
# 5. [Using SQLite Features.What can you do with SELECT Statements](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# * [Looking at the Test Data]()
# * [Ordering Data Makes it Easier to Use]()
# * [Grouping Data can Consolidate it]()
# * [Using Variables and Queries]()
# * [Summary]()
#
# 6. [Using SQLite with PHP](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# 7. [Using SQLite with Android/Java](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# 8. [Using SQLite with Core Data (iOS and OSX)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# * [Introducing to Core Data Framework]()
# * [Using the Core Data Model Editor]()
# * [Using Entities]()
# * [Working with Attributes]()
# * [Managing Relationships]()
# * [Summary]()
# 9. [Using SQLite/Core Data with Swift (iOS and OSX)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# * [Looking at the Core Data Stack]()
#  * [Managed Object Model]()
#  * [Persistent Score Coordinator]()
#  * [Managed Object Context]()
# * [Fetching Data to the Core Data Stack]()
# * [Structuring a Core Data App]()
# * [Passing a Managed Object Context to View Controller in iOS]()
# * [Setting Up the Core Data Stack in AppDelegate for iOS]()
# * [Creating applicationDocumentsDirectory in iOS]()
# * [Creating managedObjectModel in iOS]()
# * [Creating persistenceStoreCoordinator in iOS]()
# * [Creating managedObjectContext in iOS]()
# * [Setting up the Core Data Stack in AppDelegate for OSX]()
# * [Creating applicationDocumentsDirectory in OSX]()
# * [Creating managedObjectModel in OSX]()
# * [Creating persistentStoreCoordinator in OSX]()
# * [Creating managedObjectContext in OSX]()
# * [Creating a Fetch Request in iOS]()
# * [Saving the Managed Object Context]()
# * [Saving in iOS]()
# * [Saving in OSX]()
# * [Working with NSManagedObject]()
# * [Creating a New NSManagedObject Instance]()
# * [Working with a Subclass of NSManagedObject]()
# * [Summary]()
#
# 10. [Using SQLiteCore Data With Objective-C (iOS and Mac)](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# * [Looking at the Core Data Stack]()
#  * [Managed Object Model]()
#  * [Persistent Store Coordinator]()
#  * [Managed Object Context ]()
# * [Fetching Data to the Core Data Stack]()
# * [Objective-C Highlights]()
# * [Using Quoted Strings]()
# * [Objective-C is a messaging Language]()
# * [Using breaks in Objective -C]()
# * [Objective-C 2.0]()
# * [Chaining Messages]()
# * [Ending Statements with a Semicolon]()
# * [Separating Headers and Bodies in Objective-C]()
# * [Looking at Method Declarations]()
# * [Handling nil in Objective-C]()
# * [Structuring a Core Data App with Objective-C]()
# * [Passing a Managed Object Context to a View Controller]()
# * [Setting up the Core Data Stack in AppDelegate for iOS]()
# * [Creating the App Delegate Header]()
# * [Synthesizing Properties in AppDelegate.m]()
# * [Creating applicationDocumentsDirectory in iOS]()
# * [Creating managedObjectModel in iOS and OSX]()
# * [Creating persistentStoreCoordinator in iOS]()
# * [Creating managedObjectContext in iOS]()
# * [Setting up the Core Data Stack in AppDelegate for OSX]()
# * [Creating applicationDocumentary in OSX]()
# * [Creating managedObjectModel in OSX]()
# * [Creating persistentStoreCoordinator in OSX]()
# * [Creating managedObjectContext in OSX]()
# * [Creatng a Fetch Request in iOS]()
# * [Saving the Managed Object Context]()
# * [Saving in iOS]()
# * [Saving in OSX]()
# * [Working with NSManagedObject]()
# * [Creating a New NSManagedObject Instance]()
# * [Working with a Subclass of NSManagedObject]()
# * [Summary]()
# 11. [Using the Simple Database with a PHP Web Site](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# 12. [Using the Simple Database with a Core Data/iOS App](https://github.com/c4arl0s/SQLiteForMobilDevelopers#sqliteformobildevelopers)
# * [The Story Continues...]()
# * [Adjusting the Data Model and Template for Core Data]()
# * [Getting Rid of Keys and Revising the Data Model]()
# * [Changing timeStamp to name]()
# * [Creating a New Database on your Device or Simulator]()
# * [Add the Score Table and Interface to the App]()
# * [Making sure you can Add new Users with  + in the Master View Controller]()
# * [Working with the Detail View]()
# * [Working with the Detail View for Score]()
# * [Use a Table View Controller for DetailViewController]()
# * [Modify DetailViewController Code for]()
# * [Change detail to detailUser]()
# * [Change configure cell to Use the subclass]()
# * [Modify MasterViewController to Pass the User to]()
# * [Summary]()
#
#
